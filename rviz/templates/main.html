<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{title}</title>
    <style>
       {style_template}
    </style>
</head>
<body>
    <h1>{title}</h1>
    <p class="timestamp">Generated on {timestamp}</p>
    <h2>README</h2>
    <div class="readme collapsed">{readme_content}</div>
    <h2>File Hierarchy</h2>
    <div class="tree collapsed">{tree_html}</div>
    <h2>Change History</h2>
    <div class="commit-list collapsed">{commit_html}</div>
    <h2>Uncommitted Changes</h2>
    <div class="uncommitted collapsed">{status_html}</div>
    <script>
        document.querySelectorAll('.tree .dir').forEach(dir => {{
            dir.addEventListener('click', (e) => {{
                const li = dir.parentElement;
                li.classList.toggle('expanded');
                li.classList.toggle('collapsed');
                e.stopPropagation();
            }});
        }});
        document.querySelectorAll('.tree li').forEach(li => {{
            if (li.querySelector('ul')) {{
                li.classList.add('collapsed');
            }}
        }});
        document.querySelectorAll('h2').forEach(h2 => {{
            h2.addEventListener('click', () => {{
                const section = h2.nextElementSibling;
                section.classList.toggle('collapsed');
                h2.classList.toggle('expanded');
            }});
        }});
        document.querySelectorAll('.commit').forEach(commit => {{
            commit.addEventListener('click', (e) => {{
                commit.classList.toggle('expanded');
                e.stopPropagation();
            }});
        }});
    </script>
</body>
</html>